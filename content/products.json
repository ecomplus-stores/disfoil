{
  "sections": [
    {
      "type": "breadcrumbs",
      "enabled": true
    },
    {
      "type": "product-block",
      "enabled": true,
      "size_guide": {
        "image": "",
        "title": ""
      }
    },
    {
      "type": "related-products",
      "title": "Produtos relacionados"
    },
    {
      "type": "recommended-products",
      "title": "Quem viu este produto também comprou"
    },
    {
      "type": "product-description",
      "enabled": true
    },
    {
      "type": "product-specifications",
      "enabled": true
    },
    {
      "type": "custom-html",
      "html": "<a id=\"modal-calc\" href=\"javascript:;\" data-toggle=\"modal\" data-target=\"#modal-center\" style=\"display: none; padding: 7px; border: 1px solid #ccc; font-size:18px\"><i class=\"fa fa-arrows-alt\" aria-hidden=\"true\"></i>Clique e calcule o seu m²</a><div class=\"modal modal-center fade\" id=\"modal-center\" tabindex=\"-1\" style=\"\" aria-hidden=\"true\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\" style=\"display: flex;align-items: center; justify-content: space-between\"><h5 class=\"modal-title\">Calculadora de Área</h5><button type=\"button\" class=\"close\" data-dismiss=\"modal\"><span aria-hidden=\"true\">x</span></button></div><div class=\"modal-body\"><p>Utilize a Calculadora de Área para calcular a quantidade de Manta necessária para todas as áreas da sua casa de forma prática e rápida. É só inserir as medidas logo abaixo:</p><label class=\"i18n\">Dimensões</label><div class=\"flexbox\" style=\"display: flex;align-items: center \"><form id=\"myForm0\"><div class=\"form-group\"><input class=\"form-control\" type=\"number\" id=\"largura\"><small class=\"form-text i18n\"><span>Largura</span></small></div></form><div class=\"form\" style=\"margin-bottom: 6%;padding: 5px\"><span> x </span></div><form id=\"myForm1\"><div class=\"form-group\"><input class=\"form-control\" type=\"number\" id=\"comprimento\" /><small class=\"form-text i18n\"><span>Comprimento</span></small></div></form></div><form id=\"checked\"><div class=\"form-check\"><input class=\"form-check-input\" type=\"checkbox\" value=\"15\" id=\"defaultCheck1\"> <label class=\"form-check-label\" for=\"defaultCheck1\">Adicionar 15% de quebra em instalações na diagonal.</label></div><div class=\"form-check\"><input class=\"form-check-input\" type=\"checkbox\" value=\"10\" id=\"defaultCheck2\"><label class=\"form-check-label\" for=\"defaultCheck2\">Adicionar 10% para perdas e sobreposições.</label></div></form><div class=\"flexbox\" style=\"padding-bottom: 2%;\"><div class=\"pull-right p-3\">Total: <span id=\"countMeters\">0</span>m²</div></div></div><div class=\"modal-footer\"><button type=\"button\" onclick=\"document.querySelectorAll('#comprimento,#largura' ).value = ''\" class=\"btn btn-info\" id=\"clearModal\">Limpar</button><button type=\"button\" data-dismiss=\"modal\" class=\"btn btn-bold btn-pure btn-primary\" id=\"saveModal\">Atualizar Quantidade</button></div></div></div></div>"
    },
    {
      "type": "custom-html",
      "html": "<script>\n  let larg, comp\n\n$('#largura').change(function () {\nlarg = $(this).val()\nif(larg && comp) {\nvar totalDim = larg*comp\n$('#countMeters').text(totalDim)\n}\n})\n$('#comprimento').change(function () {\ncomp = $(this).val()\nif(larg && comp) {\nvar totalDim = larg*comp\n$('#countMeters').text(totalDim)\n}\n})\n\ncomp = $('#comprimento').val()\nlarg = $('#largura').val()\nif(larg && comp) {\nvar totalDim = larg*comp\n$('#countMeters').text(totalDim)\n}\nsetTimeout(function () {\n$('#checked').change(function() {\nvar input1 = $('#defaultCheck1')\nvar input2 = $('#defaultCheck2')\nvar totalAcres\ncomp = $('#comprimento').val()\nlarg = $('#largura').val()\nif(larg && comp) {\nvar totalDim = larg*comp\n}\n\nif(input1[0].checked && input1[0].value) {\ntotalAcres = Math.ceil(1.15*totalDim)\nif (input2[0].checked && input2[0].value) {\ntotalAcres = Math.ceil(1.25*totalDim)\n}\n} \nif(input2[0].checked && input2[0].value) {\ntotalAcres = Math.ceil(1.10*totalDim)\nif (input1[0].checked && input1[0].value) {\ntotalAcres = Math.ceil(1.25*totalDim)\n}\n} \nif(!input1[0].checked && !input2[0].checked) {\ntotalAcres = totalDim\n}\n $('#countMeters').text(totalAcres)\n})\n}, 500)\n$('#saveModal').click(function () {\nconst nomeProduto = storefront.context.body.name.split(' ')\nvar metragem = parseFloat(nomeProduto[nomeProduto.length - 1].replace('m2', ''))\nconsole.log(metragem)\n    let quant = Math.ceil(parseInt($('#countMeters').text())/metragem)\n    console.log('clicando')\nconsole.log(quant)\n    $('.quantity-selector__input').val(quant)\n})\n$('#clearModal').click(function () {\ndocument.getElementById('myForm0').reset()\ndocument.getElementById('myForm1').reset()\ndocument.getElementById('checked').reset()\n$('#countMeters').text('0')\n})\n </script>"
    }
  ]
}